!function(){function e(e,o){function t(){var t=e.defer();return o.navigator.geolocation?o.navigator.geolocation.getCurrentPosition(function(e){t.resolve(e)},function(e){t.reject(e)}):t.reject("Geolocation not supported."),t.promise}function n(){var t=e.defer();return o.navigator.geolocation?o.navigator.geolocation.getCurrentPosition(function(e){t.resolve(e)},function(e){t.reject(e)}):t.reject("Geolocation not supported."),t.promise}function a(){var t=e.defer();return o.navigator.geolocation?o.navigator.geolocation.watchPosition(function(e){t.resolve(e)},function(e){t.reject(e)}):t.reject("Geolocation not supported."),t.promise}return{getCurrentPosition:t,watchCurrentPosition:a,setDestinationPosition:n}}function o(e){var o=e;o.playMusic=function(){console.log("Playing Music"),$.mbAudio.sounds={backgroundMusic:{id:"backgroundMusic",mp3:"audio/AjeebDastan.mp3",sprite:{intro:{id:"intro",start:80,end:116.975,loop:!0},levelIntro:{id:"levelIntro",start:3.4,end:22,loop:!0},tellStory:{id:"tellStory",start:80,end:116.975,loop:!0},level1:{id:"level1",start:5,end:13,loop:!0},level2:{id:"level2",start:40,end:56,loop:!0},level3:{id:"level3",start:120,end:136.03,loop:!0}}}},$.mbAudio.play("backgroundMusic","levelIntro")}}function t(e,o,t){var n=e;n.title="Venue Map",n.geoLocationText="",n.geoTimeStamp="",n.isLoadedMap="false";var a=o.getCurrentPosition();a.then(function(e){var o=e.coords.latitude,t=e.coords.longitude;if(e.timestamp){var a=new Date(e.timestamp);n.geoTimeStamp=a}n.geoLocationText="Latitude: "+o+" , Longitude: "+t,n.showMap(e.coords)}),n.showMap=function(){var e=t.mapsInitialized();e.then(function(){var e={lat:12.9378649,lng:77.518271},o=new google.maps.LatLng(12.941148,77.517305),t={zoom:14,center:o,mapTypeId:"roadmap"},n=document.getElementById("mapArea"),a=new google.maps.Map(n,t),i=new google.maps.Marker({position:e,map:a,title:"Wedding Methodist Church",clickable:!0}),r=new google.maps.InfoWindow({maxWidth:200});r.setContent('<h5><strong>The Club:</strong></h5><p>Mysore Road, Nayandahalli, SLV layout, Phase 3, Nayanda Halli, Bengaluru, Karnataka 560039</p><p>Landmark: <strong>Opposite Gopalan Arcade Mall, RR Nagar</strong></p><p><a target="_blank" href="https://www.google.co.in/maps/place/The+Club/@12.9378649,77.518271,16.25z/data=!4m8!1m2!2m1!1sthe+club+bangalore!3m4!1s0x3bae3e5f6bc2128d:0x437c5198bb807145!8m2!3d12.9365023!4d77.5173459?hl=en">Open in Google Maps</a></p>'),r.open(a,i)}),$(".loadingMap").fadeOut("slow")}}var n=angular.module("myApp",["firebase","ngAnimate"]);n.filter("reverse",function(){return function(e){return e.slice().reverse()}}),angular.module("myApp").factory("geoLocationService",["$q","$window",e]),angular.module("myApp").factory("initializerGoogleMaps",["$window","$q",function(e,o){function t(){var t=o.defer(),n="https://maps.googleapis.com/maps/api/js?key=AIzaSyCSL5fxrTbT-3BnC_g-evmuGtJo9UuwF5U&callback=",a=function(e,o){var t=document.createElement("script");t.src=e+o,document.body.appendChild(t)};return e.googleMapsInitialized=function(){t.resolve()},a(n,"googleMapsInitialized"),t.promise}return{mapsInitialized:t}}]),n.controller("musicController",["$scope",o]),n.controller("formController",["$scope",function(){}]),n.controller("firebaseController",["$scope","$firebaseObject","$firebaseArray",function(e,o,t){var n=e;n.formInput={myname:"",comment:""},n.thankYou=!1,angular.extend(e,{items:[],name:"",date:"",comment:"",id:0});var a=new Firebase("https://gagaandreshmi.firebaseio.com/chatbox");n.chats=t(a),n.chatListObject=o(a),n.addComment=function(e){n.chats.$add({comment:e.comment,date:Firebase.ServerValue.TIMESTAMP,like:0,name:e.myname}),n.chats.$save(),n.formInput={myname:"",comment:""},n.thankYou=!0},n.updateLike=function(e){var o=e.like;console.log("Current Like value of this is: ",o),n.chatListObject[e.$id].like=o+1,n.chatListObject.$save()},n.displayDate=function(e){var o=new Date(e),t=o.toDateString();return t}}]),angular.module("myApp").controller("geoLocationController",["$scope","geoLocationService","initializerGoogleMaps",t])}();